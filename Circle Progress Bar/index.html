<html>
  <head>
    <title>Progress Bar | Animated</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <h1>Animated Circular Progress Bar</h1>
    <div class="root">
      <div id="cont" data-pct="36">
        <svg
          onload="animate(evt)"
          id="svg"
          width="200"
          height="200"
          viewPort="0 0 100 100"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle
            r="90"
            cx="100"
            cy="100"
            fill="transparent"
            stroke-dasharray="565.48"
            stroke-dashoffset="0"
          ></circle>
          <circle
            id="bar"
            r="90"
            cx="100"
            cy="100"
            fill="transparent"
            stroke-dasharray="565.48"
            stroke-dashoffset="0"
          ></circle>
        </svg>
      </div>
      <div class="content">
        <p class="heading">Take 5 North America Territories</p>
        <p class="subtitle">
          Congrats on travelling to 5 North American Territories
        </p>
      </div>
    </div>
    <script>
      const svg = document.querySelector("svg");
      svg.addEventListener("load", () => {
        const progressInPercentage = 57;
        const circle = document.querySelector("#svg #bar");
        const radiusOfCircle = Number(circle.getAttribute("r"));
        const areaOfCirlce = Math.PI * (radiusOfCircle * 2);
        const pct = ((100 - progressInPercentage) / 100) * areaOfCirlce;
        const progressBarContainer = document.querySelector("#cont");

        circle.style.strokeDashoffset = pct;
        progressBarContainer.setAttribute("data-pct", progressInPercentage);
      });
    </script>
  </body>
</html>
